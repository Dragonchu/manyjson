<!DOCTYPE html>
<html>
<head>
    <title>Copy Function Debug Test</title>
</head>
<body>
    <h1>Copy Function Debug Test</h1>
    <button onclick="testCopy()">Test Copy Function</button>
    <div id="output"></div>

    <script>
        // Mock the store and UI functionality
        const mockFile = {
            name: 'test-file.json',
            path: '/workspace/test-file.json',
            content: { test: true },
            isValid: true,
            errors: []
        };

        function testCopy() {
            console.log('Testing copy function...');
            
            // Test the naming logic
            const pathParts = mockFile.path.split('.');
            const extension = pathParts.pop() || 'json';
            const basePath = pathParts.join('.');
            const newPath = `${basePath}-复制.${extension}`;
            
            const nameParts = mockFile.name.split('.');
            const nameExtension = nameParts.pop() || 'json';
            const baseName = nameParts.join('.');
            const newName = `${baseName}-复制.${nameExtension}`;
            
            console.log('Original file:', mockFile);
            console.log('New path:', newPath);
            console.log('New name:', newName);
            
            document.getElementById('output').innerHTML = `
                <p>Original: ${mockFile.name} (${mockFile.path})</p>
                <p>Copy: ${newName} (${newPath})</p>
            `;
        }
    </script>
</body>
</html>